
    :root{
      --bg1:#f3fbf7;
      --bg2:#f6f3ff;
      --card:#ffffff;
      --text:#0f2a25;
      --muted:#4c6b65;
      --accent:#2e9f86;
      --accent2:#6b5bd1;
      --line:#d7efe8;
      --shadow: 0 12px 28px rgba(0,0,0,.08);
      --radius: 14px;
      --danger:#d92a4b;
      --dangerBg: rgba(217,42,75,.12);
      --mint:#eafff7;
      --mint2:#d7ffef;

      --gold:#fff4d6;
      --gold2:#ffe7a3;

      --dropBg: color-mix(in oklab, var(--accent) 7%, var(--card));
      --dropLine: color-mix(in oklab, var(--accent) 42%, var(--line));
    }
    :root[data-theme="dark"]{
      --bg1:#0c1615;
      --bg2:#0f1020;
      --card:#141f1e;
      --text:#e8f6f3;
      --muted:#a7c3bd;
      --accent:#47c6aa;
      --accent2:#a59bff;
      --line:#233332;
      --shadow: 0 18px 34px rgba(0,0,0,.35);
      --danger:#ff4f6f;
      --dangerBg: rgba(255,79,111,.14);
      --mint:#0f2622;
      --mint2:#12322c;

      --gold: color-mix(in oklab, #ffffff 10%, var(--card));
      --gold2: color-mix(in oklab, #ffffff 6%, var(--card));

      --dropBg: color-mix(in oklab, #ffffff 6%, var(--card));
      --dropLine: color-mix(in oklab, var(--accent) 45%, var(--line));
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:'Nunito', Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 520px at 10% 0%, color-mix(in oklab, var(--accent) 14%, transparent) 0%, transparent 60%),
        radial-gradient(900px 520px at 90% 10%, color-mix(in oklab, var(--accent2) 16%, transparent) 0%, transparent 62%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      min-height:100vh;
      line-height:1.55;
    }
    a{color:inherit;text-decoration:none}
    .container{max-width:1120px;margin:0 auto;padding:16px}

    body::before{
      content:"";
      position:fixed; inset:0;
      pointer-events:none;
      opacity:.55;
      background-image: radial-gradient(circle at 10px 10px, rgba(46,159,134,.10) 2px, transparent 2.2px);
      background-size: 36px 36px;
    }

    .topbar{
      position:sticky; top:0; z-index:20;
      background: color-mix(in oklab, #ffffff 30%, transparent);
      backdrop-filter: blur(10px);
      border-bottom:1px solid color-mix(in oklab, var(--line) 70%, transparent);
    }
    :root[data-theme="dark"] .topbar{ background: color-mix(in oklab, #0b0f0f 60%, transparent); }

    .nav{
      max-width:1120px;margin:0 auto;padding:12px 16px;
      display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;
    }
    .brand{display:flex;align-items:center;gap:10px}
    .brand img{
      width:44px;height:44px;object-fit:cover;
      border-radius:12px;
      border:1px solid var(--line);
      background:var(--card);
    }
    .brand-title{font-weight:900;letter-spacing:.2px}

    .links{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .pill{
      padding:8px 10px;
      border-radius:12px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--card) 92%, transparent);
      box-shadow: var(--shadow);
      cursor:pointer;
      display:inline-flex; align-items:center; gap:8px;
      user-select:none;
      color: var(--text);
    }
    .btn{
      padding:12px 14px;
      border-radius:14px;
      border:1px solid var(--accent);
      background:var(--accent);
      color:#fff;
      font-weight:900;
      cursor:pointer;
      box-shadow: 0 12px 22px color-mix(in oklab, var(--accent) 25%, transparent);
      user-select:none;
    }
    .btn.ghost{
      background: color-mix(in oklab, var(--card) 75%, transparent);
      border-color: var(--line);
      box-shadow:none;
      color: var(--text);
    }
    .btn.big{ padding:14px 18px; font-size:16px; border-radius:16px; }
    .btn.danger{ border-color: var(--danger); background: var(--danger); box-shadow:none; color:#fff; }

    .card{
      background: color-mix(in oklab, var(--card) 92%, transparent);
      border:1px solid var(--line);
      border-radius: var(--radius);
      padding:16px;
      box-shadow: var(--shadow);
    }
    .grid2{display:flex;gap:14px;flex-wrap:wrap;margin-top:14px}
    .col{flex:1;min-width:320px}

    .h1{font-size:34px;margin:0 0 10px;line-height:1.15}
    .h2{font-size:20px;margin:0 0 8px}
    .muted{color:var(--muted)}
    .small{font-size:13px;color:var(--muted)}
    hr{border:0;border-top:1px solid var(--line);margin:14px 0}

    .img-hero{
      width:100%;
      height:320px;
      object-fit:cover;
      border-radius: var(--radius);
      border:1px solid var(--line);
      background:var(--card);
      display:block;
    }
    .img-tile{
      width:100%;
      height:240px;
      object-fit:cover;
      border-radius: var(--radius);
      border:1px solid var(--line);
      background:var(--card);
      display:block;
    }
    .gallery{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
      margin-top:12px;
    }
    @media (max-width: 900px){
      .gallery{grid-template-columns:1fr}
      .img-hero{height:240px}
      .img-tile{height:220px}
    }

    label{display:block;font-weight:900;margin-top:10px}
    input{
      width:100%;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid var(--line);
      background:transparent;
      outline:none;
      color: var(--text);
    }

    .signup-hero{
      padding:18px;
      border-radius: var(--radius);
      border:1px solid var(--line);
      background:
        linear-gradient(135deg,
          color-mix(in oklab, var(--accent) 18%, transparent),
          color-mix(in oklab, var(--accent2) 14%, transparent));
    }

    .motivation{
      padding:16px;
      border-radius: var(--radius);
      border:1px solid var(--line);
      background:
        linear-gradient(180deg, color-mix(in oklab, var(--accent) 10%, var(--card)), var(--card));
    }
    .chips{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .chip{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--accent) 10%, var(--card));
      font-weight:900;
      font-size:13px;
    }

    .page{display:none}
    .page.active{display:block}

    .prices{
      border:1px solid var(--line);
      border-radius: var(--radius);
      background: linear-gradient(180deg, var(--gold), var(--gold2));
      padding:14px;
    }
    .priceGrid{display:flex; gap:12px; flex-wrap:wrap; margin-top:10px}
    .priceCard{
      flex:1; min-width:240px;
      border:1px solid var(--line);
      border-radius:16px;
      padding:12px;
      background: color-mix(in oklab, var(--card) 90%, transparent);
    }
    .priceName{font-weight:900}
    .priceVal{font-weight:900;font-size:26px;margin-top:6px}

    .cabTop{
      display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;
      margin-top:14px;
    }
    .tabs{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
    .tabbtn{
      padding:16px 18px;
      border:1px solid var(--line);
      background:var(--card);
      border-radius:18px;
      cursor:pointer;
      font-weight:900;
      font-size:17px;
      min-width: 240px;
      text-align:center;
      color: var(--text);
    }
    .tabbtn.active{
      border-color:var(--accent);
      box-shadow:0 0 0 4px color-mix(in oklab, var(--accent) 20%, transparent);
    }
    .tab{display:none;margin-top:12px}
    .tab.active{display:block}

    .dayPickerRow{
      display:flex; align-items:center; gap:14px; flex-wrap:wrap;
    }
    .arrow{
      width:44px;height:44px;
      border-radius: 14px;
      border:1px solid var(--line);
      background: var(--card);
      box-shadow: var(--shadow);
      display:grid; place-items:center;
      color: color-mix(in oklab, var(--accent2) 60%, var(--muted));
      font-size: 20px;
      cursor:pointer;
      user-select:none;
    }
    .box{
      width:86px;height:86px;
      border-radius: 18px;
      border:1px solid var(--line);
      background: linear-gradient(135deg, var(--accent), color-mix(in oklab, var(--accent2) 35%, var(--accent)));
      display:grid;
      place-items:center;
      color:#fff;
      font-weight:900;
      font-size: 30px;
      box-shadow: 0 16px 34px rgba(46,159,134,.25);
      user-select:none;
    }
    .shake-horizontal{ animation: shake-horizontal 0.6s cubic-bezier(0.455, 0.030, 0.515, 0.955) both; }
    @keyframes shake-horizontal{
      0%,100%{ transform: translateX(0); }
      20%,60%{ transform: translateX(8px); }
      40%,80%{ transform: translateX(-8px); }
    }
    .dayMeta{min-width: 240px;}
    .dayText{font-weight:900;font-size:18px;margin:0;}

    .scheduleWrap{display:flex; gap:14px; flex-wrap:wrap}
    .scheduleGrid{
      flex: 1.2;
      min-width: 640px;
      border:1px solid var(--line);
      border-radius: var(--radius);
      background: color-mix(in oklab, var(--card) 92%, transparent);
      overflow:hidden;
    }
    @media (max-width: 1000px){ .scheduleGrid{min-width: 100%} }

    .grid{display:grid;grid-template-columns: 110px repeat(3, 1fr);}
    .cell{
      border-right:1px solid var(--line);
      border-bottom:1px solid var(--line);
      padding:10px;
      min-height:70px;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
    }
    .head{font-weight:900; background: color-mix(in oklab, var(--accent2) 10%, var(--card));}
    .time{font-weight:900; color:var(--muted)}
    .slot{background: color-mix(in oklab, var(--accent) 8%, var(--card));}

    .lesson{
      width:100%;
      border:1px solid var(--line);
      background: var(--card);
      border-radius: 12px;
      padding:8px;
      cursor:grab;
      box-shadow: 0 10px 18px rgba(0,0,0,.08);
      user-select:none;
    }
    .lesson:active{cursor:grabbing}
    .lesson small{display:block; color:var(--muted); font-weight:700; margin-top:2px}

    .myBox{
      flex: 0.8;
      min-width: 320px;
      border:1px solid var(--line);
      border-radius: var(--radius);
      background: color-mix(in oklab, var(--card) 92%, transparent);
      padding:12px;
    }
    .dropZone{
      border:1px dashed color-mix(in oklab, var(--line) 75%, transparent);
      border-radius: 14px;
      padding:10px;
      min-height:120px;
      background: color-mix(in oklab, var(--card) 85%, transparent);
    }
    .record{
      border:1px solid var(--line);
      border-radius: 14px;
      padding:10px;
      background: var(--card);
      margin-top:10px;
      display:flex; align-items:flex-start; justify-content:space-between; gap:10px;
    }
    .recordMain{min-width:0}
    .basket{
      width:28px; height:28px;
      display:inline-grid; place-items:center;
      border-radius: 10px;
      border:1px solid color-mix(in oklab, var(--danger) 55%, var(--line));
      background: var(--dangerBg);
      color: var(--danger);
      cursor:pointer;
      user-select:none;
      font-size: 16px;
      flex: 0 0 auto;
    }

    .actionsRow{display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap;}
    .actionsRight{display:flex; gap:10px; flex-wrap:wrap; align-items:center}

    .dropHint{
      border:1px dashed var(--dropLine);
      background: var(--dropBg);
      border-radius: 14px;
      padding:12px;
      min-height: 84px;
      display:flex;
      flex-direction:column;
      justify-content:center;
      gap:6px;
      transition: transform .2s ease, opacity .2s ease;
    }
    .dropHintTitle{ font-weight:900; font-size:16px; }
    .dropHint.bottom{ opacity:.95; transform: translateY(10px); }

    .kit{
      background: linear-gradient(180deg, var(--mint), var(--mint2));
      border:1px solid color-mix(in oklab, var(--accent) 25%, var(--line));
      border-radius: var(--radius);
      padding:14px;
    }
    .kitItem{
      background: color-mix(in oklab, var(--accent) 12%, var(--card));
      border:1px solid color-mix(in oklab, var(--accent) 35%, var(--line));
      border-radius: 14px;
      padding:12px;
      margin-top:10px;
      font-weight:900;
    }

    .sortBar{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between;
      margin-top:10px; padding:10px;
      border:1px solid var(--line);
      border-radius: 14px;
      background: color-mix(in oklab, var(--card) 88%, transparent);
    }
    .sortBtns{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    .sortTag{
      padding:8px 10px;
      border-radius: 999px;
      border:1px solid var(--line);
      background: var(--card);
      cursor:pointer;
      font-weight:900;
      user-select:none;
      color: var(--text);
    }
    .sortTag.active{
      border-color: var(--accent);
      box-shadow:0 0 0 4px color-mix(in oklab, var(--accent) 20%, transparent);
    }

    .niceDate{ font-weight:800; color: var(--text); margin-top:2px; }
    .niceTime{ font-weight:900; color: var(--accent); }

    .modal{
      position:fixed; inset:0;
      display:none;
      background: rgba(0,0,0,.45);
      padding:16px;
      z-index:50;
      overflow:auto;
    }
    .modal.open{display:block}
    .modal .panel{
      max-width:980px;
      margin:40px auto;
      background: var(--card);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:16px;
      color: var(--text);
    }
    .modal-head{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      margin-bottom:8px;
    }

    .confirm{
      position:fixed; inset:0;
      display:none;
      background: rgba(0,0,0,.55);
      z-index:60;
      padding:16px;
    }
    .confirm.open{display:block}
    .confirm .box{
      max-width:520px;
      width: min(520px, calc(100% - 32px));
      margin: 10vh auto;
      background: var(--card);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:16px;
      color: var(--text);
    }
    #confirmText{ overflow-wrap:anywhere; line-height:1.45; }
    .confirm .actions{display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap; margin-top:12px}

    .map-wrap{
      width:618px; max-width:100%;
      border:1px solid var(--line);
      border-radius: var(--radius);
      overflow:hidden;
      background:var(--card);
    }
    .footer{
      margin-top:16px;
      padding:14px 16px;
      border-top:1px solid var(--line);
      background: color-mix(in oklab, var(--card) 85%, transparent);
    }
    .footergrid{display:flex;gap:12px;flex-wrap:wrap;justify-content:space-between;align-items:flex-start}

    .hide{display:none !important}
    
  .confirm .box{
  max-width: 720px;
  width: min(720px, calc(100% - 32px));
  margin: 8vh auto;
  padding: 24px;
}

#confirmText{
  overflow-wrap: anywhere;
  line-height: 1.55;
  max-height: 40vh;
  overflow: auto;
  padding: 12px 14px;
  background: color-mix(in oklab, var(--card) 92%, transparent);
  border: 1px solid var(--line);
  border-radius: 14px;
}